!function(e){function t(r){if(o[r])return o[r].exports;var s=o[r]={exports:{},id:r,loaded:!1};return e[r].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){o(24),o(23),o(25),o(15),o(14),o(16),o(18),o(17),o(19),o(9),o(8),o(10),o(12),o(11),o(13),o(21),o(20),o(22)},,,,,,,,function(){"use strict";angular.module("qibud.org.actions").controller("ActionEditorCtrl",["$scope","$state","$stateParams","$location","api",function(){console.log("ActionEditorCtrl start...")}])},function(){"use strict";angular.module("qibud.org.actions",["ui.router","ui.bootstrap","qibud.common"]).config(["$stateProvider","$urlRouterProvider",function(e){e.state("bud.viewer.Action",{url:"/action",views:{summary:{templateUrl:"budPacks/qibud-org-actions/view.html",controller:"ActionViewerCtrl"}},breadcrumb:{"class":"highlight",text:"Bud Action",stateName:"bud.viewer.Action"}}).state("bud.editor.Action",{url:"/action",views:{summary:{controller:"ActionViewerCtrl",templateUrl:"budPacks/qibud-org-actions/view.html"}},breadcrumb:{"class":"highlight",text:"Bud Action Editor",stateName:"bud.editor.Action"}})}])},function(){"use strict";angular.module("qibud.org.actions").controller("ActionViewerCtrl",["$scope","$state","$stateParams","api",function(e,t,o,r){console.log("ActionViewerCtrl start...");var s=e.common.user;e.packData={state:"Free",actor:void 0};var a=function(){r.buds.budPacksData.get(e.bud.id,"Action").success(function(t){t.state?(e.packData=t,console.log("packdata found:"+t),r.buds.childrenByType(e.bud.id,"Result").success(function(t){if(t.length>0){var o=e;angular.forEach(t,function(t){r.buds.budPacksData.get(t.id,"Result").success(function(t){"Success"===t.state&&(o.packData.state="Ended",r.buds.budPacksData.set(e.bud.id,o.packData,"Action"))})})}})):r.buds.budPacksData.create(e.bud.id,e.packData,"Action")}).error(function(){console.log("error while loading packdata")})};e.isActor=function(){return void 0!==e.packData.actor&&e.packData.actor===s?!0:!1},e.isCreator=function(){return void 0!==e.bud.creator&&e.bud.creator===s?!0:!1},e.isActorOrCreator=function(){return e.isActor()||e.isCreator()},e.setActor=function(){e.packData.actor=s,e.packData.state="Waiting",r.buds.budPacksData.set(e.bud.id,e.packData,"Action"),r.links.createU2B(s.id,"ACTOR",e.bud.id),e.load()},e.unsetActor=function(){e.packData.actor=void 0,e.packData.state="Free",r.buds.budPacksData.set(e.bud.id,e.packData,"Action"),r.links.deleteU2B(s.id,"ACTOR",e.bud.id),e.load()},e.load(a)}])},function(){"use strict";angular.module("qibud.org.ideas").controller("IdeaEditorCtrl",["$scope","$state","$stateParams","$location","api",function(e){e.common.user;e.packData={}}])},function(){"use strict";angular.module("qibud.org.ideas",["ui.router","ui.bootstrap","qibud.common"]).config(["$stateProvider","$urlRouterProvider",function(e){e.state("bud.viewer.Idea",{url:"/idea",views:{summary:{templateUrl:"budPacks/qibud-org-ideas/view.html",controller:"IdeaViewerCtrl"}},breadcrumb:{"class":"highlight",text:"Bud Idea",stateName:"bud.viewer.Idea"}}).state("bud.editor.Idea",{url:"/idea",views:{summary:{controller:"IdeaEditorCtrl",templateUrl:"budPacks/qibud-org-ideas/edit.html"}},breadcrumb:{"class":"highlight",text:"Bud Idea Editor",stateName:"bud.editor.Idea"}})}])},function(){"use strict";angular.module("qibud.org.ideas").controller("IdeaViewerCtrl",["$scope","$state","$stateParams","$location","api",function(e,t,o,r,s){e.common.user;e.packData={state:"Waiting"};var a=function(){s.buds.budPacksData.get(e.bud.id,"Idea").success(function(t){t.state?(e.packData=t,console.log("packdata found:"+t),e.bud.sponsors.length>0?(e.packData.state="Sponsored",s.buds.budPacksData.set(e.bud.id,e.packData,"Idea")):(e.packData.state="Waiting",s.buds.budPacksData.set(e.bud.id,e.packData,"Idea"))):s.buds.budPacksData.create(e.bud.id,e.packData,"Idea")}).error(function(){console.log("error while loading packdata")}),s.buds.sponsorsChanged.subscribe(e,function(t){e.bud.id===t.id&&(t.sponsors.length>0?(e.packData.state="Sponsored",s.buds.budPacksData.set(e.bud.id,e.packData,"Idea")):(e.packData.state="Waiting",s.buds.budPacksData.set(e.bud.id,e.packData,"Idea")))})};e.load(a)}])},function(){"use strict";angular.module("qibud.org.missions").controller("MissionEditorCtrl",["$scope","$state","$stateParams","$location","api",function(){console.log("MissionEditorCtrl start...")}])},function(){"use strict";angular.module("qibud.org.missions",["ui.router","ui.bootstrap","qibud.common"]).config(["$stateProvider","$urlRouterProvider",function(e){e.state("bud.viewer.Mission",{url:"/mission",views:{summary:{templateUrl:"budPacks/qibud-org-missions/view.html",controller:"MissionViewerCtrl"}},breadcrumb:{"class":"highlight",text:"Bud Mission",stateName:"bud.viewer.Mission"}}).state("bud.editor.Mission",{url:"/mission",views:{summary:{controller:"MissionViewerCtrl",templateUrl:"budPacks/qibud-org-missions/view.html"}},breadcrumb:{"class":"highlight",text:"Bud Mission Editor",stateName:"bud.editor.Mission"}})}])},function(){"use strict";angular.module("qibud.org.missions").controller("MissionViewerCtrl",["$scope","$state","$stateParams","api",function(e,t,o,r){console.log("MissionViewerCtrl start...");e.common.user;e.packData={state:"Waiting",projects:[],team:null};var s=function(){r.buds.budPacksData.get(e.bud.id,"Mission").success(function(t){t.state?(e.packData=t,console.log("packdata found:"+t),r.buds.childrenByType(e.bud.id,"Project").success(function(t){if(e.packData.projects=t,t.length>0){e.packData.state="Started";var o=e;angular.forEach(t,function(e){o.packData.state="Ended"===e.dataCache.state?"Ended":"Started"})}else e.packData.state="Waiting";r.buds.budPacksData.set(e.bud.id,e.packData,"Mission")})):r.buds.budPacksData.create(e.bud.id,e.packData,"Mission")}).error(function(){console.log("error while loading packdata")})};e.load(s)}])},function(){"use strict";angular.module("qibud.org.projects").controller("ProjectEditorCtrl",["$scope","$state","$stateParams","$location","api",function(){console.log("ProjectEditorCtrl start...")}])},function(){"use strict";angular.module("qibud.org.projects",["ui.router","ui.bootstrap","qibud.common"]).config(["$stateProvider","$urlRouterProvider",function(e){e.state("bud.viewer.Project",{url:"/project",views:{summary:{templateUrl:"budPacks/qibud-org-projects/view.html",controller:"ProjectViewerCtrl"}},breadcrumb:{"class":"highlight",text:"Bud Project",stateName:"bud.viewer.Project"}}).state("bud.editor.Project",{url:"/project",views:{summary:{controller:"ProjectViewerCtrl",templateUrl:"budPacks/qibud-org-projects/view.html"}},breadcrumb:{"class":"highlight",text:"Bud Project Editor",stateName:"bud.editor.Project"}})}])},function(){"use strict";angular.module("qibud.org.projects").controller("ProjectViewerCtrl",["$scope","$state","$stateParams","api",function(e,t,o,r){console.log("ProjectViewerCtrl start...");e.common.user;e.packData={state:"Waiting",actions:[]};var s=function(){r.buds.budPacksData.get(e.bud.id,"Project").success(function(t){t.state?(e.packData=t,console.log("packdata found:"+t),r.buds.childrenByType(e.bud.id,"Action").success(function(t){if(e.packData.actions=t,t.length>0){e.packData.state="Started";var o=e;angular.forEach(t,function(e){o.packData.state="Ended"===e.dataCache.state?"Ended":"Started"})}else e.packData.state="Waiting";r.buds.budPacksData.set(e.bud.id,e.packData,"Project")})):r.buds.budPacksData.create(e.bud.id,e.packData,"Project")}).error(function(){console.log("error while loading packdata")})};e.load(s)}])},function(){"use strict";angular.module("qibud.org.results").controller("ResultEditorCtrl",["$scope","$state","$stateParams","$location","api",function(){console.log("ResultEditorCtrl start...")}])},function(){"use strict";angular.module("qibud.org.results",["ui.router","ui.bootstrap","qibud.common"]).config(["$stateProvider","$urlRouterProvider",function(e){e.state("bud.viewer.Result",{url:"/result",views:{summary:{templateUrl:"budPacks/qibud-org-results/view.html",controller:"ResultViewerCtrl"}},breadcrumb:{"class":"highlight",text:"Bud Result",stateName:"bud.viewer.Result"}}).state("bud.editor.Result",{url:"/result",views:{summary:{controller:"ResultViewerCtrl",templateUrl:"budPacks/qibud-org-results/view.html"}},breadcrumb:{"class":"highlight",text:"Bud Result Editor",stateName:"bud.editor.Result"}})}])},function(){"use strict";angular.module("qibud.org.results").controller("ResultViewerCtrl",["$scope","$state","$stateParams","api",function(e,t,o,r){console.log("ResultViewerCtrl start...");var s=e.common.user;e.packData={state:"Undefined",actor:void 0};var a=function(){r.buds.budPacksData.get(e.bud.id,"Result").success(function(t){t.state?(e.packData=t,console.log("packdata found:"+t)):r.buds.budPacksData.create(e.bud.id,e.packData,"Result")}).error(function(){console.log("error while loading packdata")})};e.load(a),e.setSuccess=function(){e.packData.state="Success",r.buds.budPacksData.set(e.bud.id,e.packData,"Result"),e.bud.parentBud&&r.buds.budPacksData.get(e.bud.parentBud.id,"Action").success(function(t){t.state="Ended",r.buds.budPacksData.set(e.bud.parentBud.id,t,"Action")})},e.setFailed=function(){e.packData.state="Failed",r.buds.budPacksData.set(e.bud.id,e.packData,"Result")},e.isActor=function(){return void 0!==e.packData.actor&&e.packData.actor===s?!0:!1},e.isCreator=function(){return void 0!==e.bud.creator&&e.bud.creator===s?!0:!1},e.isActorOrCreator=function(){return e.isActor()||e.isCreator()},e.setActor=function(){e.packData.actor=s,r.buds.budPacksData.set(e.bud.id,e.packData,"Result"),r.links.createU2B(s.id,"ACTOR",e.bud.id)},e.unsetActor=function(){e.packData.actor=void 0,r.buds.budPacksData.set(e.bud.id,e.packData,"Result"),r.links.deleteU2B(s.id,"ACTOR",e.bud.id)}}])},function(){"use strict";angular.module("qibud.org.teams").controller("TeamEditorCtrl",["$scope","$state","$stateParams","$location","api",function(e,t,o,r,s){e.common.user;e.packData={members:[]},e.users=[],s.users.list().success(function(t){e.users=t,s.buds.budPacksData.get(e.editedBud.id,"Team").success(function(t){t.members?(e.packData=t,console.log("packdata found:"+t),e.packData.members.forEach(function(t){_.remove(e.users,function(e){return e.id===t.id})})):s.buds.budPacksData.create(e.editedBud.id,e.packData,"Team")}).error(function(){console.log("error while loading packdata")})}),e.addUser=function(t){e.packData.members.push(t),_.remove(e.users,function(e){return e.id===t.id}),s.buds.budPacksData.set(e.editedBud.id,e.packData,"Team"),s.links.createU2B(t.id,"MEMBER",e.editedBud.id)},e.rmUser=function(t){e.users.push(t),_.remove(e.packData.members,function(e){return e.id===t.id}),s.buds.budPacksData.set(e.editedBud.id,e.packData,"Team"),s.links.deleteU2B(t.id,"MEMBER",e.editedBud.id)}}])},function(){"use strict";angular.module("qibud.org.teams",["ui.router","ui.bootstrap","qibud.common"]).config(["$stateProvider","$urlRouterProvider",function(e){e.state("bud.viewer.Team",{url:"/team",views:{summary:{templateUrl:"budPacks/qibud-org-teams/view.html",controller:"TeamViewerCtrl"}},breadcrumb:{"class":"highlight",text:"Bud Team",stateName:"bud.viewer.Team"}}).state("bud.editor.Team",{url:"/team",views:{summary:{controller:"TeamEditorCtrl",templateUrl:"budPacks/qibud-org-teams/edit.html"}},breadcrumb:{"class":"highlight",text:"Bud Team Editor",stateName:"bud.editor.Team"}})}])},function(){"use strict";angular.module("qibud.org.teams").controller("TeamViewerCtrl",["$scope","$state","$stateParams","$location","api",function(e,t,o,r,s){e.common.user;e.packData={members:[]}}])}]);